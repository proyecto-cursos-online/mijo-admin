"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[963],{9963:(z,v,c)=>{c.r(v),c.d(v,{CategoriesModule:()=>B});var l=c(9808),f=c(4521),t=c(5e3);let y=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},directives:[f.lC],styles:[""]}),o})();var d=c(9646),C=c(262),g=c(8746),p=c(520),x=c(1135),_=c(131),A=c(89);let h=(()=>{class o{constructor(e,n){this.http=e,this.authservice=n,this.isLoadingSubject=new x.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}listCategories(e,n){this.isLoadingSubject.next(!0);let i=new p.WM({Authorization:"Bearer"+this.authservice.token}),r="?T=";return e&&(r+="&search="+e),n&&(r+="&state="+n),this.http.get(_.$g+"/categories"+r,{headers:i}).pipe((0,g.x)(()=>this.isLoadingSubject.next(!1)))}registerCategory(e){this.isLoadingSubject.next(!0);let n=new p.WM({Authorization:"Bearer"+this.authservice.token});return this.http.post(_.$g+"/categories",e,{headers:n}).pipe((0,g.x)(()=>this.isLoadingSubject.next(!1)))}updateCategory(e,n){this.isLoadingSubject.next(!0);let i=new p.WM({Authorization:"Bearer"+this.authservice.token});return this.http.post(_.$g+"/category/"+n,e,{headers:i}).pipe((0,g.x)(()=>this.isLoadingSubject.next(!1)))}deleteCategory(e){this.isLoadingSubject.next(!0);let n=new p.WM({Authorization:"Bearer"+this.authservice.token});return this.http.delete(_.$g+"/categories/"+e,{headers:n}).pipe((0,g.x)(()=>this.isLoadingSubject.next(!1)))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(p.eN),t.LFG(A.e8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=c(3639),m=c(3811),s=c(3075);const T=function(o){return{"background-image":o}};function k(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"label",18),t._uU(3,"Avatar"),t.qZA(),t.TgZ(4,"div",19),t._UZ(5,"div",20),t.TgZ(6,"label",21),t._UZ(7,"i",22),t.TgZ(8,"input",23),t.NdJ("change",function(i){return t.CHM(e),t.oxw().processImagen(i)}),t.qZA(),t._UZ(9,"input",24),t.qZA(),t.TgZ(10,"span",25),t._UZ(11,"i",26),t.qZA()(),t.TgZ(12,"div",27),t._uU(13,"Allowed file types: png, jpg, jpeg."),t.qZA()(),t.TgZ(14,"div",17)(15,"label",28),t._uU(16,"Nombre"),t.qZA(),t.TgZ(17,"input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().name=i}),t.qZA()(),t.TgZ(18,"div",17)(19,"label",28),t._uU(20,"Estado"),t.qZA(),t.TgZ(21,"select",30),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().state=i}),t.TgZ(22,"option",31),t._uU(23,"Activo"),t.qZA(),t.TgZ(24,"option",32),t._uU(25,"Inactivo"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngStyle",t.VKq(3,T,"url("+e.IMAGEN_PREVISUALIZA+")")),t.xp6(12),t.Q6J("ngModel",e.name),t.xp6(4),t.Q6J("ngModel",e.state)}}function w(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",35),t._uU(2),t.qZA(),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function E(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"label",28),t._uU(3,"Seleccionar Categoria"),t.qZA(),t.TgZ(4,"select",33),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().category_id=i}),t.YNc(5,w,3,2,"ng-container",34),t.qZA()(),t.TgZ(6,"div",17)(7,"label",28),t._uU(8,"Nombre de la sub-categoria"),t.qZA(),t.TgZ(9,"input",29),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().name=i}),t.qZA()(),t.TgZ(10,"div",17)(11,"label",28),t._uU(12,"Estado"),t.qZA(),t.TgZ(13,"select",30),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().state=i}),t.TgZ(14,"option",31),t._uU(15,"Activo"),t.qZA(),t.TgZ(16,"option",32),t._uU(17,"Inactivo"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.category_id),t.xp6(1),t.Q6J("ngForOf",e.CATEGORIES),t.xp6(4),t.Q6J("ngModel",e.name),t.xp6(4),t.Q6J("ngModel",e.state)}}const L=function(o){return{"d-none":o}};let U=(()=>{class o{constructor(e,n,i){this.categoryService=e,this.toaster=n,this.modal=i,this.CategoryE=new t.vpe,this.CATEGORIES=null,this.category=null,this.name=null,this.IMAGEN_PREVISUALIZA="./assets/media/svg/files/blank-image.svg",this.FILE_PORTADA=null,this.selected_option=1,this.state=1,this.category_id=null}ngOnInit(){this.isLoading$=(0,d.of)(!1),this.name=this.category.name,this.selected_option=this.category.category_id?2:1,this.IMAGEN_PREVISUALIZA=this.category.imagen?this.category.imagen:"./assets/media/svg/files/blank-image.svg",this.category_id=this.category.category_id,this.state=this.category.state}processImagen(e){if(e.target.files[0].type.indexOf("image")<0)return void this.toaster.open({text:"Solo se aceptan imagenes",caption:"Mensaje de validac\xf3n",type:"danger"});this.FILE_PORTADA=e.target.files[0];let n=new FileReader;n.readAsDataURL(this.FILE_PORTADA),n.onloadend=()=>this.IMAGEN_PREVISUALIZA=n.result}store(){if(1===this.selected_option&&!this.name)return void this.toaster.open({text:"Los campos son obligatorios",caption:"Validaci\xf3n",type:"danger"});if(!(2!==this.selected_option||this.name&&this.category_id))return void this.toaster.open({text:"Los campos son obligatorios",caption:"Validaci\xf3n",type:"danger"});this.isLoading$=(0,d.of)(!0);let e=new FormData;e.append("name",this.name),this.category_id&&e.append("category_id",this.category_id),this.FILE_PORTADA&&e.append("portada",this.FILE_PORTADA),e.append("state",this.state),this.categoryService.updateCategory(e,this.category.id).pipe((0,C.K)(n=>(console.error("Error:",n),(0,d.of)(null))),(0,g.x)(()=>{this.isLoading$=(0,d.of)(!1)})).subscribe(n=>{this.modal.dismiss(),this.CategoryE.emit(n),this.toaster.open({text:"Categoria Actualizada",caption:"Exitoso",type:"primary"})})}selectedOption(e){this.selected_option=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(b.x7),t.Y36(m.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories-edit"]],inputs:{CATEGORIES:"CATEGORIES",category:"category"},outputs:{CategoryE:"CategoryE"},decls:21,vars:8,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],[1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["class","d-flex flex-column scroll-y me-n7 pe-7","id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",4,"ngIf"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2",3,"ngClass"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"d-block","fw-bold","fs-6","mb-5"],["data-kt-image-input","true",1,"image-input","image-input-outline",2,"background-image","url('assets/media/svg/avatars/blank.svg')"],[1,"image-input-wrapper","w-125px","h-125px",3,"ngStyle"],["data-kt-image-input-action","change","data-bs-toggle","tooltip","title","Change avatar",1,"btn","btn-icon","btn-circle","btn-active-color-primary","w-25px","h-25px","bg-body","shadow"],[1,"bi","bi-pencil-fill","fs-7"],["type","file","name","avatar","accept",".png, .jpg, .jpeg",3,"change"],["type","hidden","name","avatar_remove"],["data-kt-image-input-action","cancel","data-bs-toggle","tooltip","title","Cancel avatar",1,"btn","btn-icon","btn-circle","btn-active-color-primary","w-25px","h-25px","bg-body","shadow"],[1,"bi","bi-x","fs-2"],[1,"form-text"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","name","placeholder","Nombre Completo",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","status","placeholder","Estados",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return n.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9),t.YNc(11,k,26,5,"div",10),t.YNc(12,E,18,4,"div",10),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(15," Cerrar "),t.qZA(),t.TgZ(16,"button",13),t.NdJ("click",function(){return n.store()}),t.TgZ(17,"span",14),t._uU(18,"Guardar"),t.qZA(),t._UZ(19,"span",15),t.ALo(20,"async"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij("Editar Categoria: ",n.category.id,""),t.xp6(8),t.Q6J("ngIf",1===n.selected_option),t.xp6(1),t.Q6J("ngIf",2===n.selected_option),t.xp6(7),t.Q6J("ngClass",t.VKq(6,L,!0!==t.lcZ(20,4,n.isLoading$))))},directives:[s._Y,s.JL,s.F,l.O5,l.PC,s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr,l.sg,l.mk],pipes:[l.Ov],styles:[""]}),o})();function I(o,a){1&o&&t._UZ(0,"span",15)}let M=(()=>{class o{constructor(e,n,i){this.categoryService=e,this.toaster=n,this.modal=i,this.CategoryD=new t.vpe,this.name=null,this.IMAGEN_PREVISUALIZA="./assets/media/avatars/300-6.jpg"}ngOnInit(){this.isLoading=(0,d.of)(!1),this.name=this.category.name}delete(){this.categoryService.deleteCategory(this.category.id).pipe((0,C.K)(e=>(console.error("Error:",e),(0,d.of)(null))),(0,g.x)(()=>{this.isLoading=(0,d.of)(!1)})).subscribe(e=>{this.modal.dismiss(),this.CategoryD.emit(e.user),this.toaster.open({text:"Usuario Eliminado",caption:"Exitoso",type:"primary"})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(b.x7),t.Y36(m.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories-delete"]],inputs:{category:"category"},outputs:{CategoryD:"CategoryD"},decls:21,vars:5,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],[1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return n.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(15," Cerrar "),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return n.delete()}),t.TgZ(17,"span",13),t._uU(18,"Eliminar"),t.qZA(),t.YNc(19,I,1,0,"span",14),t.ALo(20,"async"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij("Eliminar Usuario: ",n.category.name," "),t.xp6(9),t.hij(" Estas seguro de Eliminar a la categoria ",n.category.name," "),t.xp6(7),t.Q6J("ngIf",t.lcZ(20,3,n.isLoading)))},directives:[s._Y,s.JL,s.F,l.O5],pipes:[l.Ov],styles:[""]}),o})();const J=function(o){return{"background-image":o}};function q(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"label",30),t._uU(3,"Avatar"),t.qZA(),t.TgZ(4,"div",31),t._UZ(5,"div",32),t.TgZ(6,"label",33),t._UZ(7,"i",34),t.TgZ(8,"input",35),t.NdJ("change",function(i){return t.CHM(e),t.oxw().processImagen(i)}),t.qZA(),t._UZ(9,"input",36),t.qZA(),t.TgZ(10,"span",37),t._UZ(11,"i",38),t.qZA()(),t.TgZ(12,"div",39),t._uU(13,"Allowed file types: png, jpg, jpeg."),t.qZA()(),t.TgZ(14,"div",29)(15,"label",40),t._uU(16,"Nombre"),t.qZA(),t.TgZ(17,"input",41),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().name=i}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngStyle",t.VKq(2,J,"url("+e.IMAGEN_PREVISUALIZA+")")),t.xp6(12),t.Q6J("ngModel",e.name)}}function S(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",44),t._uU(2),t.qZA(),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function O(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"label",40),t._uU(3,"Seleccionar Categoria"),t.qZA(),t.TgZ(4,"select",42),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().category_id=i}),t.YNc(5,S,3,2,"ng-container",43),t.qZA()(),t.TgZ(6,"div",29)(7,"label",40),t._uU(8,"Nombre de la sub-categoria"),t.qZA(),t.TgZ(9,"input",41),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().name=i}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.category_id),t.xp6(1),t.Q6J("ngForOf",e.CATEGORIES),t.xp6(4),t.Q6J("ngModel",e.name)}}const Z=function(o){return{active:o}},N=function(o){return{"d-none":o}};let F=(()=>{class o{constructor(e,n,i){this.categoryService=e,this.toaster=n,this.modal=i,this.CategoryA=new t.vpe,this.CATEGORIES=null,this.name=null,this.IMAGEN_PREVISUALIZA="./assets/media/svg/files/blank-image.svg",this.FILE_PORTADA=null,this.selected_option=1,this.category_id=null}ngOnInit(){this.isLoading$=(0,d.of)(!1)}processImagen(e){if(e.target.files[0].type.indexOf("image")<0)return void this.toaster.open({text:"Solo se aceptan imagenes",caption:"Mensaje de validac\xf3n",type:"danger"});this.FILE_PORTADA=e.target.files[0];let n=new FileReader;n.readAsDataURL(this.FILE_PORTADA),n.onloadend=()=>this.IMAGEN_PREVISUALIZA=n.result}store(){if(1===this.selected_option&&!this.name)return void this.toaster.open({text:"Los campos son obligatorios",caption:"Validaci\xf3n",type:"danger"});if(!(2!==this.selected_option||this.name&&this.category_id))return void this.toaster.open({text:"Los campos son obligatorios",caption:"Validaci\xf3n",type:"danger"});this.isLoading$=(0,d.of)(!0);let e=new FormData;e.append("name",this.name),this.category_id&&e.append("category_id",this.category_id),this.FILE_PORTADA&&e.append("portada",this.FILE_PORTADA),this.categoryService.registerCategory(e).pipe((0,C.K)(n=>(console.error("Error:",n),(0,d.of)(null))),(0,g.x)(()=>{this.isLoading$=(0,d.of)(!1)})).subscribe(n=>{this.modal.dismiss(),this.CategoryA.emit(n.category),this.toaster.open({text:"Categoria Creado",caption:"Exitoso",type:"primary"})})}selectedOption(e){this.selected_option=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(b.x7),t.Y36(m.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories-add"]],inputs:{CATEGORIES:"CATEGORIES"},outputs:{CategoryA:"CategoryA"},decls:40,vars:15,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],[1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"fv-row","mb-10"],[1,"fs-6","fw-bold","mb-2"],["data-bs-toggle","tooltip","title","","data-bs-original-title","Select a discount type that will be applied to this product","aria-label","Select a discount type that will be applied to this product",1,"fas","fa-exclamation-circle","ms-2","fs-7"],["data-kt-buttons","true","data-kt-buttons-target","[data-kt-button='true']",1,"row","g-9"],[1,"col-12"],["data-kt-button","true",1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","active","d-flex","text-start","p-6",3,"ngClass"],[1,"form-check","form-check-custom","form-check-solid","form-check-sm","align-items-start","mt-1"],["type","radio","name","discount_option","value","1",1,"form-check-input",3,"checked","click"],[1,"ms-5"],[1,"fs-4","fw-bolder","text-gray-800","d-block"],["data-kt-button","true",1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","d-flex","text-start","p-6",3,"ngClass"],["type","radio","name","discount_option","value","2",1,"form-check-input",3,"checked","click"],["class","d-flex flex-column scroll-y me-n7 pe-7","id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",4,"ngIf"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2",3,"ngClass"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"d-block","fw-bold","fs-6","mb-5"],["data-kt-image-input","true",1,"image-input","image-input-outline",2,"background-image","url('assets/media/svg/avatars/blank.svg')"],[1,"image-input-wrapper","w-125px","h-125px",3,"ngStyle"],["data-kt-image-input-action","change","data-bs-toggle","tooltip","title","Change avatar",1,"btn","btn-icon","btn-circle","btn-active-color-primary","w-25px","h-25px","bg-body","shadow"],[1,"bi","bi-pencil-fill","fs-7"],["type","file","name","avatar","accept",".png, .jpg, .jpeg",3,"change"],["type","hidden","name","avatar_remove"],["data-kt-image-input-action","cancel","data-bs-toggle","tooltip","title","Cancel avatar",1,"btn","btn-icon","btn-circle","btn-active-color-primary","w-25px","h-25px","bg-body","shadow"],[1,"bi","bi-x","fs-2"],[1,"form-text"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","name","placeholder","Nombre Completo",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Agregar Categoria"),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return n.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"label",11),t._uU(13,"Tipo de Categoria "),t._UZ(14,"i",12),t.qZA(),t.TgZ(15,"div",13)(16,"div",14)(17,"label",15)(18,"span",16)(19,"input",17),t.NdJ("click",function(){return n.selectedOption(1)}),t.qZA()(),t.TgZ(20,"span",18)(21,"span",19),t._uU(22,"Categoria"),t.qZA()()()(),t.TgZ(23,"div",14)(24,"label",20)(25,"span",16)(26,"input",21),t.NdJ("click",function(){return n.selectedOption(2)}),t.qZA()(),t.TgZ(27,"span",18)(28,"span",19),t._uU(29,"Sub-Cateogria"),t.qZA()()()()()(),t.YNc(30,q,18,4,"div",22),t.YNc(31,O,10,3,"div",22),t.TgZ(32,"div",23)(33,"button",24),t.NdJ("click",function(){return n.modal.dismiss()}),t._uU(34," Cerrar "),t.qZA(),t.TgZ(35,"button",25),t.NdJ("click",function(){return n.store()}),t.TgZ(36,"span",26),t._uU(37,"Guardar"),t.qZA(),t._UZ(38,"span",27),t.ALo(39,"async"),t.qZA()()()()()),2&e&&(t.xp6(17),t.Q6J("ngClass",t.VKq(9,Z,1===n.selected_option)),t.xp6(2),t.Q6J("checked",1===n.selected_option),t.xp6(5),t.Q6J("ngClass",t.VKq(11,Z,2===n.selected_option)),t.xp6(2),t.Q6J("checked",2===n.selected_option),t.xp6(4),t.Q6J("ngIf",1===n.selected_option),t.xp6(1),t.Q6J("ngIf",2===n.selected_option),t.xp6(7),t.Q6J("ngClass",t.VKq(13,N,!0!==t.lcZ(39,7,n.isLoading$))))},directives:[s._Y,s.JL,s.F,l.mk,l.O5,l.PC,s.Fj,s.JJ,s.On,s.EJ,l.sg,s.YN,s.Kr],pipes:[l.Ov],styles:[""]}),o})();function R(o,a){1&o&&(t.TgZ(0,"tr")(1,"td",38)(2,"div",39)(3,"span",40),t._uU(4,"Loading..."),t.qZA()()()())}function Q(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"a",53)(2,"div",54),t._UZ(3,"img",55),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("href",e.category.imagen,t.LSH),t.xp6(2),t.Q6J("src",e.category.imagen,t.LSH)}}function j(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"a",53)(2,"div",54),t._UZ(3,"img",55),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("href",e.imagen,t.LSH),t.xp6(2),t.Q6J("src",e.imagen,t.LSH)}}function Y(o,a){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.category.name)}}function D(o,a){1&o&&(t.TgZ(0,"td"),t._uU(1,"Ninguno"),t.qZA())}function G(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",41)(2,"div",42),t.YNc(3,Q,4,2,"ng-container",36),t.YNc(4,j,4,2,"ng-container",36),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,Y,2,1,"td",36),t.YNc(8,D,2,0,"td",36),t.TgZ(9,"td")(10,"div",43),t._uU(11),t.qZA()(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td")(15,"div",44)(16,"a",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().editCategory(i)}),t.TgZ(17,"span",46),t.O4$(),t.TgZ(18,"svg",5),t._UZ(19,"path",47)(20,"path",48),t.qZA()()(),t.kcU(),t.TgZ(21,"a",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().deleteCategory(i)}),t.TgZ(22,"span",46),t.O4$(),t.TgZ(23,"svg",5),t._UZ(24,"path",50)(25,"path",51)(26,"path",52),t.qZA()()()()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",e.category),t.xp6(1),t.Q6J("ngIf",!e.category),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",e.category),t.xp6(1),t.Q6J("ngIf",!e.category),t.xp6(2),t.Q6J("ngClass",1==e.state?"badge-light-success":"badge-light-danger"),t.xp6(1),t.Oqu(1==e.state?"Activo":"Inactivo"),t.xp6(2),t.Oqu(e.created_at)}}function $(o,a){if(1&o&&(t.ynx(0),t.YNc(1,G,27,8,"tr",36),t.ALo(2,"async"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,1,e.isLoading))}}const V=[{path:"",component:y,children:[{path:"list",component:(()=>{class o{constructor(e,n){this.modalService=e,this.categoriesService=n,this.isLoading=null,this.search=null,this.state=null}ngOnInit(){this.isLoading=this.categoriesService.isLoading$,this.listCategories()}listCategories(){this.categoriesService.listCategories(this.search,this.state).subscribe(e=>{this.CATEGORIES=e.categories.data})}editCategory(e){const n=this.modalService.open(U,{centered:!0,size:"md"});n.componentInstance.category=e,n.componentInstance.CATEGORIES=this.CATEGORIES.filter(i=>!i.category_id),n.componentInstance.CategoryE.subscribe(i=>{console.log(i);let r=this.CATEGORIES.findIndex(u=>u.id===i.id);this.CATEGORIES[r]=i,window.location.reload()})}deleteCategory(e){const n=this.modalService.open(M,{centered:!0,size:"md"});n.componentInstance.category=e,n.componentInstance.CategoryD.subscribe(i=>{let r=this.CATEGORIES.findIndex(u=>u.id===e.id);this.CATEGORIES.splice(r,1),window.location.reload()})}openModalCreateCategory(){const e=this.modalService.open(F,{centered:!0,size:"lg"});e.componentInstance.CATEGORIES=this.CATEGORIES.filter(n=>!n.category_id),e.componentInstance.CategoryA.subscribe(n=>{this.CATEGORIES.unshift(n)})}clearFilters(){this.search=null,this.state=0,this.listCategories()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.FF),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories-list"]],decls:63,vars:6,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","data-kt-user-table-filter","search","placeholder","Buscar",1,"form-control","form-control-solid","w-250px","ps-14",3,"ngModel","ngModelChange","input"],[1,"card-toolbar"],["data-kt-user-table-toolbar","base",1,"d-flex","justify-content-end"],["type","button","data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end",1,"btn","btn-light-primary","me-3"],[1,"svg-icon","svg-icon-2"],["d","M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z","fill","currentColor"],["data-kt-menu","true",1,"menu","menu-sub","menu-sub-dropdown","w-300px","w-md-325px"],[1,"px-7","py-5"],[1,"fs-5","text-dark","fw-bolder"],[1,"separator","border-gray-200"],[1,"mb-10"],[1,"form-label","fs-6","fw-bold"],["name","state",1,"form-select","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-light","btn-active-light-primary","fw-bold","me-2","px-6",3,"click"],["type","button",1,"btn","btn-primary","fw-bold","px-6",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["opacity","0.5","x","11.364","y","20.364","width","16","height","2","rx","1","transform","rotate(-90 11.364 20.364)","fill","currentColor"],["x","4.36396","y","11.364","width","16","height","2","rx","1","fill","currentColor"],[1,"card-body","py-4","table-responsive"],["id","kt_table_users",1,"table","align-middle","table-row-dashed","fs-6","gy-5"],[1,"text-start","text-muted","fw-bolder","fs-7","text-uppercase","gs-0"],[1,"min-w-125px"],[1,"min-w-100px"],[1,"text-gray-600","fw-bold"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-circle","symbol-50px","overflow-hidden","me-3"],[1,"badge","fw-bolder",3,"ngClass"],[1,"d-flex","justify-content-start","flex-shrink-0"],["onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-3"],["opacity","0.3","d","M21.4 8.35303L19.241 10.511L13.485 4.755L15.643 2.59595C16.0248 2.21423 16.5426 1.99988 17.0825 1.99988C17.6224 1.99988 18.1402 2.21423 18.522 2.59595L21.4 5.474C21.7817 5.85581 21.9962 6.37355 21.9962 6.91345C21.9962 7.45335 21.7817 7.97122 21.4 8.35303ZM3.68699 21.932L9.88699 19.865L4.13099 14.109L2.06399 20.309C1.98815 20.5354 1.97703 20.7787 2.03189 21.0111C2.08674 21.2436 2.2054 21.4561 2.37449 21.6248C2.54359 21.7934 2.75641 21.9115 2.989 21.9658C3.22158 22.0201 3.4647 22.0084 3.69099 21.932H3.68699Z","fill","currentColor"],["d","M5.574 21.3L3.692 21.928C3.46591 22.0032 3.22334 22.0141 2.99144 21.9594C2.75954 21.9046 2.54744 21.7864 2.3789 21.6179C2.21036 21.4495 2.09202 21.2375 2.03711 21.0056C1.9822 20.7737 1.99289 20.5312 2.06799 20.3051L2.696 18.422L5.574 21.3ZM4.13499 14.105L9.891 19.861L19.245 10.507L13.489 4.75098L4.13499 14.105Z","fill","currentColor"],["onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],["d","M5 9C5 8.44772 5.44772 8 6 8H18C18.5523 8 19 8.44772 19 9V18C19 19.6569 17.6569 21 16 21H8C6.34315 21 5 19.6569 5 18V9Z","fill","currentColor"],["opacity","0.5","d","M5 5C5 4.44772 5.44772 4 6 4H18C18.5523 4 19 4.44772 19 5V5C19 5.55228 18.5523 6 18 6H6C5.44772 6 5 5.55228 5 5V5Z","fill","currentColor"],["opacity","0.5","d","M9 4C9 3.44772 9.44772 3 10 3H14C14.5523 3 15 3.44772 15 4V4H9V4Z","fill","currentColor"],["target","_blank",3,"href"],[1,"symbol-label"],["alt","Imagen",1,"w-100",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"rect",6)(7,"path",7),t.qZA()(),t.kcU(),t.TgZ(8,"input",8),t.NdJ("ngModelChange",function(r){return n.search=r})("input",function(){return n.listCategories()}),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10)(11,"button",11)(12,"span",12),t.O4$(),t.TgZ(13,"svg",5),t._UZ(14,"path",13),t.qZA()(),t._uU(15," Filtrar "),t.qZA(),t.kcU(),t.TgZ(16,"div",14)(17,"div",15)(18,"div",16),t._uU(19,"Opciones"),t.qZA()(),t._UZ(20,"div",17),t.TgZ(21,"div",15)(22,"div",18)(23,"label",19),t._uU(24,"Estado:"),t.qZA(),t.TgZ(25,"select",20),t.NdJ("ngModelChange",function(r){return n.state=r}),t.TgZ(26,"option",21),t._uU(27,"Todos"),t.qZA(),t.TgZ(28,"option",22),t._uU(29,"Activo"),t.qZA(),t.TgZ(30,"option",23),t._uU(31,"Inactivo"),t.qZA()()(),t.TgZ(32,"div",24)(33,"button",25),t.NdJ("click",function(){return n.clearFilters()}),t._uU(34,"Limpiar"),t.qZA(),t.TgZ(35,"button",26),t.NdJ("click",function(){return n.listCategories()}),t._uU(36,"Aplicar"),t.qZA()()()(),t.TgZ(37,"button",27),t.NdJ("click",function(){return n.openModalCreateCategory()}),t.TgZ(38,"span",12),t.O4$(),t.TgZ(39,"svg",5),t._UZ(40,"rect",28)(41,"rect",29),t.qZA()(),t._uU(42," Nuevo "),t.qZA()()()(),t.kcU(),t.TgZ(43,"div",30)(44,"table",31)(45,"thead")(46,"tr",32)(47,"th",33),t._uU(48,"Imagen"),t.qZA(),t.TgZ(49,"th",33),t._uU(50,"Nombre"),t.qZA(),t.TgZ(51,"th",33),t._uU(52,"Categor\xeda"),t.qZA(),t.TgZ(53,"th",33),t._uU(54,"Estado"),t.qZA(),t.TgZ(55,"th",33),t._uU(56,"Fecha de Craci\xf3n"),t.qZA(),t.TgZ(57,"th",34),t._uU(58,"Acciones"),t.qZA()()(),t.TgZ(59,"tbody",35),t.YNc(60,R,5,0,"tr",36),t.ALo(61,"async"),t.YNc(62,$,3,3,"ng-container",37),t.qZA()()()()),2&e&&(t.xp6(8),t.Q6J("ngModel",n.search),t.xp6(17),t.Q6J("ngModel",n.state),t.xp6(35),t.Q6J("ngIf",t.lcZ(61,4,n.isLoading)),t.xp6(2),t.Q6J("ngForOf",n.CATEGORIES))},directives:[s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr,l.O5,l.sg,l.mk],pipes:[l.Ov],styles:[""]}),o})()}]}];let H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(V)],f.Bz]}),o})();var P=c(4619);let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,H,p.JF,s.u5,m.IJ,s.UX,P.vi,m.bz]]}),o})()}}]);